<html>
    <title>LS12</title>
<body>
</body>
<script>
    function f1(){
        var x = 1;
        function f2(){
            return x++
        }
        return f2();
    }
    var f3 = f1();
    console.log(f3);        //1
    console.log(f3);        //1



    function f1(){
        var x = 1;
        function f2(){
            return x++;
        }
        return f2;
    }
    var f3 = f1();
    console.log(f3());      //1
    console.log(f3());      //2


    function createInc(startValue){
        return function(step){
            startValue+=step;
            return startValue;
        }
    }
    var inc = createInc(5);
    console.log(inc(1));        //6
    console.log(inc(2));        //8
    inc = createInc(5);
    console.log(inc(1));        //6



    function foo(){
        var i = 0;
        function bar(){
            console.log(++i);
        }
        return bar;
    }
    var a = foo();
    var b = foo();
    a();        //1
    a();        //2
    b();        //1



    function foo(){
        var i = 0;
        function bar(){
            console.log(++i);
        }
        return bar;
    }
    var fn1 = foo();
    var fn2 = foo();
    fn1();      //1
    fn1();      //2
    fn2();      //1



    var tmo = 100;
    function foo(x){
        var tmp = 3;//注意词法运用域
        return function(y){
            console.log(x+y+(++tmp));
        }
    }
    var fee = foo(2);//fee形成了一个闭包
    fee(10);
    fee(10);
    fee(10);
    
</script>




</html>